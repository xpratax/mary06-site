<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>MARY06 - SOS Mulher</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
    body {
        margin: 0;
        font-family: Arial;
        background: #1a0000;
        color: white;
        text-align: center;
        padding: 20px;
    }
    .btn-alerta {
        background: red;
        padding: 20px;
        border-radius: 15px;
        color: white;
        font-size: 22px;
        cursor: pointer;
        border: none;
        width: 90%;
        max-width: 320px;
        margin-top: 40px;
    }
</style>
</head>
<body>

<h1>ðŸš¨ MARY06</h1>
<p>Ajuda imediata para mulheres em perigo.</p>

<button class="btn-alerta" id="enviar">ENVIAR ALERTA</button>

<script>
const supabase = supabaseJS.createClient(
  "https://ddprocqroeaqsxfupavw.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkcHJvY3Fyb2VhcXN4ZnVwYXZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NjIwODIsImV4cCI6MjA3OTIzODA4Mn0.-KmYcCVKSU8mtPW8qmD46ZScQF0C0mSuXb9KqpNG9HQ"
);

document.getElementById('enviar').onclick = () => {
    navigator.geolocation.getCurrentPosition(async (pos) => {
        const { latitude, longitude } = pos.coords;

        await supabase.from("alerts").insert({
            victim_name: "VÃ­tima",
            description: "BotÃ£o de emergÃªncia acionado",
            urgency: 5,
            latitude,
            longitude
        });

        alert("âš  Alerta enviado para autoridades!");
    });
};
</script>

</body>
</html>
